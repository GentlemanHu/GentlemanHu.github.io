{"title":"Linux剑客之sed","slug":"Linux剑客之sed","date":"2020-08-30T09:54:34.000Z","updated":"2023-11-06T14:15:17.981Z","comments":true,"path":"api/articles/Linux剑客之sed.json","excerpt":null,"covers":null,"content":"<div class=\"note info\">\n            <p>学习整理from <a href=\"https://www.gnu.org/software/sed/manual/sed.html#Command_002dLine-Options\" target=\"_blank\" rel=\"noopener\">gun.org</a></p><p>基本直译</p>\n          </div>\n\n<h2 id=\"1-简介\"><a href=\"#1-简介\" class=\"headerlink\" title=\"1 简介\"></a>1 简介</h2><p><code>sed</code>，一个流编辑器。那么一个流编辑器就是处理转换文本的，而它的输入流，则来自管道(pipeline)。<code>sed</code>同样也支持脚本编辑，而且只让输入流(inputs)处理一次，所以更加高效。而<code>sed</code>的特性就是从管道过滤文本，这就是它的拿手好活了。</p>\n<h2 id=\"2-Running-sed\"><a href=\"#2-Running-sed\" class=\"headerlink\" title=\"2 Running sed\"></a>2 Running sed</h2><p>简单介绍运行<code>sed</code>的基操</p>\n<h3 id=\"2-1-Overview\"><a href=\"#2-1-Overview\" class=\"headerlink\" title=\"2.1 Overview\"></a>2.1 Overview</h3><p>通常<code>sed</code>像如下使用：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sed SCRIPT INPUTFILE...</span><br></pre></td></tr></table></figure>\n\n<p>比如，把<code>input.txt</code>中所有的<code>hello</code>替换成<code>world</code></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sed <span class=\"string\">'s/hello/world/'</span> input.txt &gt; output.txt</span><br></pre></td></tr></table></figure>\n\n<p>如果不定义输入文件，或者输入文件是<code>-</code>，<code>sed</code>就从标准输入(standard input)过滤，下边结果都是一样的</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sed <span class=\"string\">'s/hello/world/'</span> input.txt &gt; output.txt</span><br><span class=\"line\">sed <span class=\"string\">'s/hello/world/'</span> &lt; input.txt &gt; output.txt</span><br><span class=\"line\">cat input.txt | sed <span class=\"string\">'s/hello/world/'</span> - &gt; output.txt</span><br></pre></td></tr></table></figure>\n\n<p><code>sed</code>会把结果写到标准输出流。</p>\n<h3 id=\"2-2-命令行参数\"><a href=\"#2-2-命令行参数\" class=\"headerlink\" title=\"2.2 命令行参数\"></a>2.2 命令行参数</h3><h3 id=\"2-3-退出类型\"><a href=\"#2-3-退出类型\" class=\"headerlink\" title=\"2.3 退出类型\"></a>2.3 退出类型</h3><h2 id=\"3-sed脚本语言\"><a href=\"#3-sed脚本语言\" class=\"headerlink\" title=\"3 sed脚本语言\"></a>3 <code>sed</code>脚本语言</h2><h3 id=\"3-1-Overview\"><a href=\"#3-1-Overview\" class=\"headerlink\" title=\"3.1 Overview\"></a>3.1 Overview</h3><h3 id=\"3-2-命令汇总\"><a href=\"#3-2-命令汇总\" class=\"headerlink\" title=\"3.2 命令汇总\"></a>3.2 命令汇总</h3><h3 id=\"3-3-s-Command\"><a href=\"#3-3-s-Command\" class=\"headerlink\" title=\"3.3 s Command\"></a>3.3 <code>s</code> Command</h3><h3 id=\"3-4-常用命令\"><a href=\"#3-4-常用命令\" class=\"headerlink\" title=\"3.4 常用命令\"></a>3.4 常用命令</h3><h3 id=\"3-5-不常用命令\"><a href=\"#3-5-不常用命令\" class=\"headerlink\" title=\"3.5 不常用命令\"></a>3.5 不常用命令</h3><h3 id=\"3-6-sed针对大神的命令\"><a href=\"#3-6-sed针对大神的命令\" class=\"headerlink\" title=\"3.6 sed针对大神的命令\"></a>3.6 <code>sed</code>针对大神的命令</h3><h3 id=\"3-7-针对GUN版sed\"><a href=\"#3-7-针对GUN版sed\" class=\"headerlink\" title=\"3.7 针对GUN版sed\"></a>3.7 针对<code>GUN</code>版<code>sed</code></h3><h3 id=\"3-8-多命令情况与语法\"><a href=\"#3-8-多命令情况与语法\" class=\"headerlink\" title=\"3.8 多命令情况与语法\"></a>3.8 多命令情况与语法</h3><h4 id=\"3-8-1-多命令需要另起一行\"><a href=\"#3-8-1-多命令需要另起一行\" class=\"headerlink\" title=\"3.8.1 多命令需要另起一行\"></a>3.8.1 多命令需要另起一行</h4><h2 id=\"4-各种行操作\"><a href=\"#4-各种行操作\" class=\"headerlink\" title=\"4 各种行操作\"></a>4 各种行操作</h2><h3 id=\"4-1-Overview\"><a href=\"#4-1-Overview\" class=\"headerlink\" title=\"4.1 Overview\"></a>4.1 Overview</h3><h3 id=\"4-2-通过数字择取行\"><a href=\"#4-2-通过数字择取行\" class=\"headerlink\" title=\"4.2 通过数字择取行\"></a>4.2 通过数字择取行</h3><h3 id=\"4-3-通过匹配字符择取行\"><a href=\"#4-3-通过匹配字符择取行\" class=\"headerlink\" title=\"4.3 通过匹配字符择取行\"></a>4.3 通过匹配字符择取行</h3><h3 id=\"4-4-范围择取\"><a href=\"#4-4-范围择取\" class=\"headerlink\" title=\"4.4 范围择取\"></a>4.4 范围择取</h3><h2 id=\"5-sed正则操作\"><a href=\"#5-sed正则操作\" class=\"headerlink\" title=\"5 sed正则操作\"></a>5 <code>sed</code>正则操作</h2><h3 id=\"5-1-Overview\"><a href=\"#5-1-Overview\" class=\"headerlink\" title=\"5.1 Overview\"></a>5.1 Overview</h3><h3 id=\"5-2-Basic-BRE-正则和Extended-ERE-正则\"><a href=\"#5-2-Basic-BRE-正则和Extended-ERE-正则\" class=\"headerlink\" title=\"5.2 Basic(BRE)正则和Extended(ERE)正则\"></a>5.2 Basic(BRE)正则和Extended(ERE)正则</h3><h3 id=\"5-3-Basic正则语法\"><a href=\"#5-3-Basic正则语法\" class=\"headerlink\" title=\"5.3 Basic正则语法\"></a>5.3 Basic正则语法</h3><h3 id=\"5-4-Extended正则语法\"><a href=\"#5-4-Extended正则语法\" class=\"headerlink\" title=\"5.4 Extended正则语法\"></a>5.4 Extended正则语法</h3><h3 id=\"5-5-方括号用法\"><a href=\"#5-5-方括号用法\" class=\"headerlink\" title=\"5.5 方括号用法\"></a>5.5 方括号用法</h3><h3 id=\"5-6-正则扩展\"><a href=\"#5-6-正则扩展\" class=\"headerlink\" title=\"5.6 正则扩展\"></a>5.6 正则扩展</h3><h3 id=\"5-7-前引用与子表达\"><a href=\"#5-7-前引用与子表达\" class=\"headerlink\" title=\"5.7 前引用与子表达\"></a>5.7 前引用与子表达</h3><h3 id=\"5-8-针对特殊字符\"><a href=\"#5-8-针对特殊字符\" class=\"headerlink\" title=\"5.8 针对特殊字符\"></a>5.8 针对特殊字符</h3><h4 id=\"5-8-1-转义优先\"><a href=\"#5-8-1-转义优先\" class=\"headerlink\" title=\"5.8.1 转义优先\"></a>5.8.1 转义优先</h4><h3 id=\"5-9-多字节字符与Locale情况\"><a href=\"#5-9-多字节字符与Locale情况\" class=\"headerlink\" title=\"5.9 多字节字符与Locale情况\"></a>5.9 多字节字符与Locale情况</h3><h4 id=\"5-9-1-无效多字节字符\"><a href=\"#5-9-1-无效多字节字符\" class=\"headerlink\" title=\"5.9.1 无效多字节字符\"></a>5.9.1 无效多字节字符</h4><h4 id=\"5-9-2-大小写\"><a href=\"#5-9-2-大小写\" class=\"headerlink\" title=\"5.9.2 大小写\"></a>5.9.2 大小写</h4><h4 id=\"5-9-3-多字节正则类\"><a href=\"#5-9-3-多字节正则类\" class=\"headerlink\" title=\"5.9.3 多字节正则类\"></a>5.9.3 多字节正则类</h4><h2 id=\"6-sed高级用法-cycles和buffers\"><a href=\"#6-sed高级用法-cycles和buffers\" class=\"headerlink\" title=\"6 sed高级用法:cycles和buffers\"></a>6 <code>sed</code>高级用法:<code>cycles</code>和<code>buffers</code></h2><h2 id=\"7-一些脚本例子\"><a href=\"#7-一些脚本例子\" class=\"headerlink\" title=\"7 一些脚本例子\"></a>7 一些脚本例子</h2><h2 id=\"8-GUN版本sed的局限和优势\"><a href=\"#8-GUN版本sed的局限和优势\" class=\"headerlink\" title=\"8 GUN版本sed的局限和优势\"></a>8 <code>GUN</code>版本<code>sed</code>的局限和优势</h2><h2 id=\"9-其他学习资源\"><a href=\"#9-其他学习资源\" class=\"headerlink\" title=\"9 其他学习资源\"></a>9 其他学习资源</h2><h3 id=\"Resources\"><a href=\"#Resources\" class=\"headerlink\" title=\"Resources\"></a>Resources</h3><p><a href=\"https://www.grymoire.com/Unix/Sed.html\" target=\"_blank\" rel=\"noopener\">Tutorial</a></p>\n<p><a href=\"https://www.geeksforgeeks.org/sed-command-in-linux-unix-with-examples/\" target=\"_blank\" rel=\"noopener\">WithExamples</a></p>\n<p><a href=\"https://www.gnu.org/software/sed/manual/sed.html\" target=\"_blank\" rel=\"noopener\">Manual</a></p>\n<!-- [精通正则表达式 提取码：grep ](https://share.holyfuck.ml/share/folder/1zUw48Ug7Fgv7aR7ZXWyk04ZShep3cjbU?root=1zUw48Ug7Fgv7aR7ZXWyk04ZShep3cjbU&sig=95e3c349dc71c38c52130bc069ec7694748f27374aeeef407dc73404187d9083) -->\n\n<h2 id=\"Attention\"><a href=\"#Attention\" class=\"headerlink\" title=\"Attention\"></a>Attention</h2><blockquote>\n<p>本文为个人翻译学习，鉴于认知水平和能力有限，不当之处在所难免。希望确证准确。</p>\n</blockquote>\n<blockquote>\n<p>Contact: <a href=\"mailto:work@crushing.xyz\">work@crushing.xyz</a></p>\n</blockquote>\n","more":"<div class=\"note info\">\n            <p>学习整理from <a href=\"https://www.gnu.org/software/sed/manual/sed.html#Command_002dLine-Options\" target=\"_blank\" rel=\"noopener\">gun.org</a></p><p>基本直译</p>\n          </div>\n\n<h2 id=\"1-简介\"><a href=\"#1-简介\" class=\"headerlink\" title=\"1 简介\"></a>1 简介</h2><p><code>sed</code>，一个流编辑器。那么一个流编辑器就是处理转换文本的，而它的输入流，则来自管道(pipeline)。<code>sed</code>同样也支持脚本编辑，而且只让输入流(inputs)处理一次，所以更加高效。而<code>sed</code>的特性就是从管道过滤文本，这就是它的拿手好活了。</p>\n<h2 id=\"2-Running-sed\"><a href=\"#2-Running-sed\" class=\"headerlink\" title=\"2 Running sed\"></a>2 Running sed</h2><p>简单介绍运行<code>sed</code>的基操</p>\n<h3 id=\"2-1-Overview\"><a href=\"#2-1-Overview\" class=\"headerlink\" title=\"2.1 Overview\"></a>2.1 Overview</h3><p>通常<code>sed</code>像如下使用：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sed SCRIPT INPUTFILE...</span><br></pre></td></tr></table></figure>\n\n<p>比如，把<code>input.txt</code>中所有的<code>hello</code>替换成<code>world</code></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sed <span class=\"string\">'s/hello/world/'</span> input.txt &gt; output.txt</span><br></pre></td></tr></table></figure>\n\n<p>如果不定义输入文件，或者输入文件是<code>-</code>，<code>sed</code>就从标准输入(standard input)过滤，下边结果都是一样的</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sed <span class=\"string\">'s/hello/world/'</span> input.txt &gt; output.txt</span><br><span class=\"line\">sed <span class=\"string\">'s/hello/world/'</span> &lt; input.txt &gt; output.txt</span><br><span class=\"line\">cat input.txt | sed <span class=\"string\">'s/hello/world/'</span> - &gt; output.txt</span><br></pre></td></tr></table></figure>\n\n<p><code>sed</code>会把结果写到标准输出流。</p>\n<h3 id=\"2-2-命令行参数\"><a href=\"#2-2-命令行参数\" class=\"headerlink\" title=\"2.2 命令行参数\"></a>2.2 命令行参数</h3><h3 id=\"2-3-退出类型\"><a href=\"#2-3-退出类型\" class=\"headerlink\" title=\"2.3 退出类型\"></a>2.3 退出类型</h3><h2 id=\"3-sed脚本语言\"><a href=\"#3-sed脚本语言\" class=\"headerlink\" title=\"3 sed脚本语言\"></a>3 <code>sed</code>脚本语言</h2><h3 id=\"3-1-Overview\"><a href=\"#3-1-Overview\" class=\"headerlink\" title=\"3.1 Overview\"></a>3.1 Overview</h3><h3 id=\"3-2-命令汇总\"><a href=\"#3-2-命令汇总\" class=\"headerlink\" title=\"3.2 命令汇总\"></a>3.2 命令汇总</h3><h3 id=\"3-3-s-Command\"><a href=\"#3-3-s-Command\" class=\"headerlink\" title=\"3.3 s Command\"></a>3.3 <code>s</code> Command</h3><h3 id=\"3-4-常用命令\"><a href=\"#3-4-常用命令\" class=\"headerlink\" title=\"3.4 常用命令\"></a>3.4 常用命令</h3><h3 id=\"3-5-不常用命令\"><a href=\"#3-5-不常用命令\" class=\"headerlink\" title=\"3.5 不常用命令\"></a>3.5 不常用命令</h3><h3 id=\"3-6-sed针对大神的命令\"><a href=\"#3-6-sed针对大神的命令\" class=\"headerlink\" title=\"3.6 sed针对大神的命令\"></a>3.6 <code>sed</code>针对大神的命令</h3><h3 id=\"3-7-针对GUN版sed\"><a href=\"#3-7-针对GUN版sed\" class=\"headerlink\" title=\"3.7 针对GUN版sed\"></a>3.7 针对<code>GUN</code>版<code>sed</code></h3><h3 id=\"3-8-多命令情况与语法\"><a href=\"#3-8-多命令情况与语法\" class=\"headerlink\" title=\"3.8 多命令情况与语法\"></a>3.8 多命令情况与语法</h3><h4 id=\"3-8-1-多命令需要另起一行\"><a href=\"#3-8-1-多命令需要另起一行\" class=\"headerlink\" title=\"3.8.1 多命令需要另起一行\"></a>3.8.1 多命令需要另起一行</h4><h2 id=\"4-各种行操作\"><a href=\"#4-各种行操作\" class=\"headerlink\" title=\"4 各种行操作\"></a>4 各种行操作</h2><h3 id=\"4-1-Overview\"><a href=\"#4-1-Overview\" class=\"headerlink\" title=\"4.1 Overview\"></a>4.1 Overview</h3><h3 id=\"4-2-通过数字择取行\"><a href=\"#4-2-通过数字择取行\" class=\"headerlink\" title=\"4.2 通过数字择取行\"></a>4.2 通过数字择取行</h3><h3 id=\"4-3-通过匹配字符择取行\"><a href=\"#4-3-通过匹配字符择取行\" class=\"headerlink\" title=\"4.3 通过匹配字符择取行\"></a>4.3 通过匹配字符择取行</h3><h3 id=\"4-4-范围择取\"><a href=\"#4-4-范围择取\" class=\"headerlink\" title=\"4.4 范围择取\"></a>4.4 范围择取</h3><h2 id=\"5-sed正则操作\"><a href=\"#5-sed正则操作\" class=\"headerlink\" title=\"5 sed正则操作\"></a>5 <code>sed</code>正则操作</h2><h3 id=\"5-1-Overview\"><a href=\"#5-1-Overview\" class=\"headerlink\" title=\"5.1 Overview\"></a>5.1 Overview</h3><h3 id=\"5-2-Basic-BRE-正则和Extended-ERE-正则\"><a href=\"#5-2-Basic-BRE-正则和Extended-ERE-正则\" class=\"headerlink\" title=\"5.2 Basic(BRE)正则和Extended(ERE)正则\"></a>5.2 Basic(BRE)正则和Extended(ERE)正则</h3><h3 id=\"5-3-Basic正则语法\"><a href=\"#5-3-Basic正则语法\" class=\"headerlink\" title=\"5.3 Basic正则语法\"></a>5.3 Basic正则语法</h3><h3 id=\"5-4-Extended正则语法\"><a href=\"#5-4-Extended正则语法\" class=\"headerlink\" title=\"5.4 Extended正则语法\"></a>5.4 Extended正则语法</h3><h3 id=\"5-5-方括号用法\"><a href=\"#5-5-方括号用法\" class=\"headerlink\" title=\"5.5 方括号用法\"></a>5.5 方括号用法</h3><h3 id=\"5-6-正则扩展\"><a href=\"#5-6-正则扩展\" class=\"headerlink\" title=\"5.6 正则扩展\"></a>5.6 正则扩展</h3><h3 id=\"5-7-前引用与子表达\"><a href=\"#5-7-前引用与子表达\" class=\"headerlink\" title=\"5.7 前引用与子表达\"></a>5.7 前引用与子表达</h3><h3 id=\"5-8-针对特殊字符\"><a href=\"#5-8-针对特殊字符\" class=\"headerlink\" title=\"5.8 针对特殊字符\"></a>5.8 针对特殊字符</h3><h4 id=\"5-8-1-转义优先\"><a href=\"#5-8-1-转义优先\" class=\"headerlink\" title=\"5.8.1 转义优先\"></a>5.8.1 转义优先</h4><h3 id=\"5-9-多字节字符与Locale情况\"><a href=\"#5-9-多字节字符与Locale情况\" class=\"headerlink\" title=\"5.9 多字节字符与Locale情况\"></a>5.9 多字节字符与Locale情况</h3><h4 id=\"5-9-1-无效多字节字符\"><a href=\"#5-9-1-无效多字节字符\" class=\"headerlink\" title=\"5.9.1 无效多字节字符\"></a>5.9.1 无效多字节字符</h4><h4 id=\"5-9-2-大小写\"><a href=\"#5-9-2-大小写\" class=\"headerlink\" title=\"5.9.2 大小写\"></a>5.9.2 大小写</h4><h4 id=\"5-9-3-多字节正则类\"><a href=\"#5-9-3-多字节正则类\" class=\"headerlink\" title=\"5.9.3 多字节正则类\"></a>5.9.3 多字节正则类</h4><h2 id=\"6-sed高级用法-cycles和buffers\"><a href=\"#6-sed高级用法-cycles和buffers\" class=\"headerlink\" title=\"6 sed高级用法:cycles和buffers\"></a>6 <code>sed</code>高级用法:<code>cycles</code>和<code>buffers</code></h2><h2 id=\"7-一些脚本例子\"><a href=\"#7-一些脚本例子\" class=\"headerlink\" title=\"7 一些脚本例子\"></a>7 一些脚本例子</h2><h2 id=\"8-GUN版本sed的局限和优势\"><a href=\"#8-GUN版本sed的局限和优势\" class=\"headerlink\" title=\"8 GUN版本sed的局限和优势\"></a>8 <code>GUN</code>版本<code>sed</code>的局限和优势</h2><h2 id=\"9-其他学习资源\"><a href=\"#9-其他学习资源\" class=\"headerlink\" title=\"9 其他学习资源\"></a>9 其他学习资源</h2><h3 id=\"Resources\"><a href=\"#Resources\" class=\"headerlink\" title=\"Resources\"></a>Resources</h3><p><a href=\"https://www.grymoire.com/Unix/Sed.html\" target=\"_blank\" rel=\"noopener\">Tutorial</a></p>\n<p><a href=\"https://www.geeksforgeeks.org/sed-command-in-linux-unix-with-examples/\" target=\"_blank\" rel=\"noopener\">WithExamples</a></p>\n<p><a href=\"https://www.gnu.org/software/sed/manual/sed.html\" target=\"_blank\" rel=\"noopener\">Manual</a></p>\n<!-- [精通正则表达式 提取码：grep ](https://share.holyfuck.ml/share/folder/1zUw48Ug7Fgv7aR7ZXWyk04ZShep3cjbU?root=1zUw48Ug7Fgv7aR7ZXWyk04ZShep3cjbU&sig=95e3c349dc71c38c52130bc069ec7694748f27374aeeef407dc73404187d9083) -->\n\n<h2 id=\"Attention\"><a href=\"#Attention\" class=\"headerlink\" title=\"Attention\"></a>Attention</h2><blockquote>\n<p>本文为个人翻译学习，鉴于认知水平和能力有限，不当之处在所难免。希望确证准确。</p>\n</blockquote>\n<blockquote>\n<p>Contact: <a href=\"mailto:work@crushing.xyz\">work@crushing.xyz</a></p>\n</blockquote>\n","categories":[{"name":"编程杂记","path":"api/categories/编程杂记.json"},{"name":"Linux","path":"api/categories/Linux.json"}],"tags":[]}