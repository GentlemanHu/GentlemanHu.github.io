{"title":"Calibre+rclone+google driveæ­å»ºä¸ªäººä¹¦åº“è®°å½•","slug":"Calibre-rclone-google-driveæ­å»ºä¹¦åº“æŠŠç©","date":"2020-08-02T10:40:38.000Z","updated":"2023-11-06T14:15:17.978Z","comments":true,"path":"api/articles/Calibre-rclone-google-driveæ­å»ºä¹¦åº“æŠŠç©.json","excerpt":null,"covers":["https://gitee.com/gentlemanhu/public-store/raw/master//images/20200802184446.png","https://gitee.com/gentlemanhu/public-store/raw/master//images/20200802184359.png","https://gitee.com/gentlemanhu/public-store/raw/master//images/image-20200802185121351.png","https://gitee.com/gentlemanhu/public-store/raw/master//images/image-20200802185159925.png","https://gitee.com/gentlemanhu/public-store/raw/master//images/image-20200802185330214.png","https://gitee.com/gentlemanhu/public-store/raw/master//images/image-20200804122150879.png","https://gitee.com/gentlemanhu/public-store/raw/master//images/20200802184755.png","https://gitee.com/gentlemanhu/public-store/raw/master//images/image-20200804142346644.png","https://gitee.com/gentlemanhu/public-store/raw/master//images/image-20200804142454950.png","https://gitee.com/gentlemanhu/public-store/raw/master//images/image-20200804142552774.png","https://gitee.com/gentlemanhu/public-store/raw/master//images/20200802184602.png","https://gitee.com/gentlemanhu/public-store/raw/master//images/image-20200804105005437.png"],"content":"<h2 id=\"å‰è¨€\"><a href=\"#å‰è¨€\" class=\"headerlink\" title=\"å‰è¨€\"></a>å‰è¨€</h2><blockquote>\n<p>è®°å½•äº†ä¸€äº›æŠ˜è…¾è¿‡ç¨‹</p>\n</blockquote>\n<details>\n    <summary>ä¸€äº›ç¼˜ç”±</summary>\n\n<h3 id=\"E5\"><a href=\"#E5\" class=\"headerlink\" title=\"E5\"></a>E5</h3><ol>\n<li><p>å‰ä¸€æ®µå¾®è½¯å¼€å‘è€…E5è®¢é˜…å¾ˆç«çƒ­ï¼Œä¹Ÿé¡ºæ‰‹ç”³è¯·äº†ä¸€ä¸ªï¼Œä¸»è¦è¿˜æ˜¯çœ‹ä¸Š<code>OneDrive</code>çš„å­˜å‚¨ï¼ŒE5å¯ä»¥æ‹¥æœ‰25ä¸ªå­è´¦å·ï¼Œæ‰€ä»¥ç©ºé—´è‡³å°‘<code>25x5T</code>ï¼Œå½“ç„¶ä¹Ÿç”¨ä¸äº†è¿™ä¹ˆå¤šã€‚</p>\n</li>\n<li><p>ç”±äºE5å¯èƒ½æ˜¯å‚ç…§å¼€å‘è€…ä½¿ç”¨æƒ…å†µç»­è®¢çš„ï¼Œæ‰€ä»¥åŒæ—¶ä¹Ÿéƒ¨ç½²äº†<a href=\"https://github.com/GentlemanHu/OwnE5\" target=\"_blank\" rel=\"noopener\"><code>è‡ªåŠ¨è°ƒç”¨APIç»­è®¢</code></a>ç¨‹åºæ¥å°è¯•ç»´æŒç»­è®¢ã€‚</p>\n</li>\n</ol>\n<ol start=\"3\">\n<li>æ­å»ºäº†å„ç§ç´¢å¼•ç¨‹åºä½œä¸ºä¸ªäººç½‘ç›˜ï¼Œæ€»ä¹‹ï¼Œå°è¯•äº†å¤šæ¬¾ï¼Œå„æœ‰ä¼˜åŠ¿å§ã€‚</li>\n</ol>\n<h3 id=\"TeamDrive\"><a href=\"#TeamDrive\" class=\"headerlink\" title=\"TeamDrive\"></a>TeamDrive</h3><ol>\n<li><p>GoogleDriveè®¢é˜…G Suitæ•™è‚²ç‰ˆæˆ–è€…å•†ä¸šç‰ˆæ˜¯æ— é™å®¹é‡çš„ï¼ˆ$$$)ï¼Œæ•™è‚²é‚®ç®±ä¹‹å‰æè¿‡ä¸€ä¸ªï¼Œç¿»è½¦äº†ã€‚</p>\n</li>\n<li><p>å¶ç„¶å‘ç°è¿˜æœ‰TeamDriveä¹Ÿæ˜¯æ— é™å®¹é‡ï¼Œå°±ä¹Ÿé¡ºæ‰‹æäº†ä¸€ä¸ªç©ç©çœ‹ã€‚</p>\n</li>\n<li><p>åˆå‘ç°å„ç§ç©æ³•ï¼Œè½¬å­˜ä»€ä¹ˆçš„ï¼Œåˆ©ç”¨SAè´¦å·è½¬å­˜ï¼ŒTGæœºå™¨äººè½¬å­˜ç­‰ï¼Œé¡ºæ‰‹ä¹Ÿæ­å»ºäº†ã€‚</p>\n<blockquote>\n<p><a href=\"https://github.com/iwestlin/gd-utils\" target=\"_blank\" rel=\"noopener\">gd-utils</a></p>\n</blockquote>\n</li>\n</ol>\n<!-- ### ä¸ªäººæ¼”ç¤ºç«™\n\n- ODï¼ˆæš‚ä¸ï¼‰\n- GD\n  - https://pie.holyfuck.ml\n  - https://pie.keepfuture.live -->\n\n<h3 id=\"æŠ˜è…¾å¼€å§‹\"><a href=\"#æŠ˜è…¾å¼€å§‹\" class=\"headerlink\" title=\"æŠ˜è…¾å¼€å§‹\"></a>æŠ˜è…¾å¼€å§‹</h3><ul>\n<li>å„ç§ç¦»çº¿ä¸‹è½½ï¼Œè½¬å­˜æœºå™¨äººä¹Ÿéƒ½ç©è¿‡äº†ï¼Œå°±æƒ³ç©ç©æ–°é²œçš„ã€‚</li>\n<li>äºæ˜¯æƒ³åˆ°äº†æ­å»ºä¸ªäººä¹¦åº“ï¼Œåˆ©ç”¨è¿™äº›<code>å¼ºå¤§çš„</code>å­˜å‚¨ä½œæ”¯æŒã€‚</li>\n<li>å½“ç„¶ï¼ŒODå’ŒGDéƒ½æ˜¯å¯ä»¥çš„ï¼Œä½†æ˜¯çœ‹åˆ°<code>calibre-web</code>è¿™æ¬¾ç®¡ç†é¢æ¿åŸç”Ÿæ”¯æŒGDï¼Œå°±é€‰æ‹©äº†GD</li>\n</ul>\n</details>\n\n<h2 id=\"ä¸€ã€Calibre-webæ­å»ºä¸é…ç½®\"><a href=\"#ä¸€ã€Calibre-webæ­å»ºä¸é…ç½®\" class=\"headerlink\" title=\"ä¸€ã€Calibre-webæ­å»ºä¸é…ç½®\"></a>ä¸€ã€Calibre-webæ­å»ºä¸é…ç½®</h2><h3 id=\"å®‰è£…éƒ¨ç½²\"><a href=\"#å®‰è£…éƒ¨ç½²\" class=\"headerlink\" title=\"å®‰è£…éƒ¨ç½²\"></a>å®‰è£…éƒ¨ç½²</h3><h4 id=\"pyä¾èµ–éƒ¨ç½²ç‰ˆ\"><a href=\"#pyä¾èµ–éƒ¨ç½²ç‰ˆ\" class=\"headerlink\" title=\"pyä¾èµ–éƒ¨ç½²ç‰ˆ\"></a>pyä¾èµ–éƒ¨ç½²ç‰ˆ</h4><p><a href=\"https://github.com/janeczku/calibre-web\" target=\"_blank\" rel=\"noopener\">calibre-web</a></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git <span class=\"built_in\">clone</span> ä»“åº“</span><br><span class=\"line\"><span class=\"built_in\">cd</span> </span><br><span class=\"line\"><span class=\"comment\"># python3 (python3.x) </span></span><br><span class=\"line\">pip3 install --target vendor -r requirements.txt </span><br><span class=\"line\"><span class=\"comment\"># (python2.7).</span></span><br><span class=\"line\">pip install --target vendor -r requirements.txt</span><br></pre></td></tr></table></figure>\n\n<p>æ‰§è¡Œå¯åŠ¨å‘½ä»¤</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">python cps.py</span><br><span class=\"line\">æˆ–è€… </span><br><span class=\"line\">nohup python cps.py</span><br></pre></td></tr></table></figure>\n\n<p>è‡³æ­¤ï¼Œcalibreçš„é¢æ¿calibre-webæ­å»ºæˆåŠŸï¼Œæ¥ä¸‹æ¥è·ŸGDå­˜å‚¨ç«¯å¯¹æ¥ã€‚</p>\n<p>é¢æ¿åŸç”Ÿæ”¯æŒGD</p>\n<p><img src= \"/img/loading.gif\" data-src=\"https://gitee.com/gentlemanhu/public-store/raw/master//images/20200802184446.png\" alt=\"\"></p>\n<p><img src= \"/img/loading.gif\" data-src=\"https://gitee.com/gentlemanhu/public-store/raw/master//images/20200802184359.png\" alt=\"\"></p>\n<p><a href=\"https://github.com/janeczku/calibre-web/wiki/Configuration#using-google-drive-integration\" target=\"_blank\" rel=\"noopener\">doc</a></p>\n<p>ç”±äºæŸäº›åŸå› ï¼Œé‡‡ç”¨ä¸‹è¾¹rcloneæŒ‚è½½GDæ–¹å¼ã€‚</p>\n<h4 id=\"dockerç‰ˆ\"><a href=\"#dockerç‰ˆ\" class=\"headerlink\" title=\"dockerç‰ˆ\"></a><del>dockerç‰ˆ</del></h4><blockquote>\n<p>dockerå®‰è£…å¯è°“æœ€ç®€å•ï¼Œå¯æƒœå„ç§æŠ˜è…¾æœªæˆåŠŸï¼Œè¿˜æ˜¯ä¸€èˆ¬å®‰è£…å§~</p>\n<p>âš ï¸ä»¥ä¸‹åªæ˜¯è®°å½•äº†æŠ¥é”™ç­‰ä¿¡æ¯ï¼Œå°è¯•ä¿®å¤è¿‡ç¨‹</p>\n</blockquote>\n<p><a href=\"https://hub.docker.com/r/linuxserver/calibre-web/\" target=\"_blank\" rel=\"noopener\">calibre-docker</a></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker create \\</span><br><span class=\"line\">  --name=calibre-web \\</span><br><span class=\"line\">  -e PUID=1000 \\</span><br><span class=\"line\">  -e PGID=1000 \\</span><br><span class=\"line\">  -e TZ=Europe/London \\</span><br><span class=\"line\">  -e DOCKER_MODS=linuxserver/calibre-web:calibre \\</span><br><span class=\"line\">  -p 8083:8083 \\</span><br><span class=\"line\">  -v /media/config:/config \\</span><br><span class=\"line\">  -v /media/Books:/books \\</span><br><span class=\"line\">  --restart unless-stopped \\</span><br><span class=\"line\">  linuxserver/calibre-web</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><p>å®‰è£…å¥½ä¹‹åï¼Œå°½ç®¡å·²ç»æ˜ å°„ï¼Œdockerå®¹å™¨å†…ä¸èƒ½è¯»å–åˆ°ä»hostå¤–éƒ¨å…±äº«åˆ°å†…éƒ¨çš„ç›®å½•ï¼Œæ‰€ä»¥ï¼ŒæŒ‚è½½çš„GDä¹Ÿå°±ä¸èƒ½ç”¨ã€‚</p>\n</li>\n<li><p>æ‰¾äº†ä¸€ç•ªï¼Œæœ‰ä¸ªrclone-mountçš„dockeré•œåƒæ˜¯ä¸“é—¨ä¸ºæ­¤è€Œç”Ÿã€‚</p>\n<blockquote>\n<p><a href=\"https://github.com/tynor88/docker-rclone-mount\" target=\"_blank\" rel=\"noopener\">rclone-mount-docker</a></p>\n<p><a href=\"https://hub.docker.com/r/mumiehub/rclone-mount/\" target=\"_blank\" rel=\"noopener\">Docker-rclone</a></p>\n</blockquote>\n</li>\n<li><p><code>docker build -t rclone-docker:rclone .</code></p>\n</li>\n<li><p><code>docker run -t -i rclone-docker:rclone /bin/bash</code></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker start rclone-mount</span><br><span class=\"line\">Error response from daemon: oci runtime error: container_linux.go:235: starting container process caused <span class=\"string\">\"process_linux.go:339: running prestart hook 2 caused \\\"error running hook: exit status 1, stdout: , stderr: \\\"\"</span></span><br><span class=\"line\">Error: failed to start containers: rclone-mount</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>æŠ¥é”™,googleåéœ€è¦åœ¨linuxå†…æ ¸å¯åŠ¨namespaceä»€ä¹ˆçš„ï¼Œä¸‹è¾¹æ˜¯æ•™ç¨‹</p>\n</li>\n<li><p><a href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux_atomic_host/7/html-single/getting_started_with_containers/index#user_namespaces_options\" target=\"_blank\" rel=\"noopener\">https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux_atomic_host/7/html-single/getting_started_with_containers/index#user_namespaces_options</a></p>\n</li>\n</ul>\n<blockquote>\n<p>ç„¶è€Œéœ€è¦é‡å¯ï¼Œç”±äºéƒ¨ç½²äº†ä¸€å †é—²ç©çš„ä¸œè¥¿ï¼Œå¾ˆå¤šæ²¡éƒ¨ç½²serviceè‡ªå¯åŠ¨ï¼Œé‡å¯åè¯´ä¸å®šå°±ä¸çŸ¥é“åˆ°åœ¨å“ªå¯åŠ¨äº†ï¼Œæ‰€ä»¥æ”¾å¼ƒã€‚</p>\n</blockquote>\n<h3 id=\"åå°é…ç½®\"><a href=\"#åå°é…ç½®\" class=\"headerlink\" title=\"åå°é…ç½®\"></a>åå°é…ç½®</h3><blockquote>\n<p>è¯¦è§ä¸‹è¾¹ç¬¬ä¸‰æ­¥</p>\n</blockquote>\n<h2 id=\"äºŒã€rcloneæŒ‚è½½GD\"><a href=\"#äºŒã€rcloneæŒ‚è½½GD\" class=\"headerlink\" title=\"äºŒã€rcloneæŒ‚è½½GD\"></a>äºŒã€rcloneæŒ‚è½½GD</h2><h3 id=\"æ™®é€šç‰ˆ\"><a href=\"#æ™®é€šç‰ˆ\" class=\"headerlink\" title=\"æ™®é€šç‰ˆ\"></a>æ™®é€šç‰ˆ</h3><h4 id=\"å®‰è£…rclone\"><a href=\"#å®‰è£…rclone\" class=\"headerlink\" title=\"å®‰è£…rclone\"></a>å®‰è£…<a href=\"https://rclone.org/install/#script-installation\" target=\"_blank\" rel=\"noopener\">rclone</a></h4><h4 id=\"é…ç½®GDå¹¶æŒ‚è½½\"><a href=\"#é…ç½®GDå¹¶æŒ‚è½½\" class=\"headerlink\" title=\"é…ç½®GDå¹¶æŒ‚è½½\"></a>é…ç½®GDå¹¶æŒ‚è½½</h4><ul>\n<li><p><code>rclone config</code></p>\n<p><img src= \"/img/loading.gif\" data-src=\"https://gitee.com/gentlemanhu/public-store/raw/master//images/image-20200802185121351.png\" alt=\"image-20200802185121351\"></p>\n<blockquote>\n<p> æ–°å»ºremote</p>\n</blockquote>\n<p><img src= \"/img/loading.gif\" data-src=\"https://gitee.com/gentlemanhu/public-store/raw/master//images/image-20200802185159925.png\" alt=\"image-20200802185159925\"></p>\n<blockquote>\n<p>é€‰13ï¼ˆå…·ä½“çœ‹ç‰ˆæœ¬ï¼‰ï¼Œgoogle drive</p>\n<p>client_idå’Œsecret_idå¯ä»¥ä¸å†™ï¼Œé»˜è®¤ç”¨çš„å®˜æ–¹çš„ã€‚</p>\n<p>æ¥ä¸‹æ¥éƒ½é€‰1</p>\n</blockquote>\n<p><img src= \"/img/loading.gif\" data-src=\"https://gitee.com/gentlemanhu/public-store/raw/master//images/image-20200802185330214.png\" alt=\"image-20200802185330214\"></p>\n</li>\n</ul>\n<blockquote>\n<p>æ ¹æ®æç¤ºï¼ŒéªŒè¯é‚£é‡Œï¼Œç”±äºæ˜¯åœ¨vpsæ²¡æ˜¾ç¤ºå™¨ï¼Œé€‰nï¼Œç‚¹å¼€é“¾æ¥éªŒè¯åï¼Œå¤åˆ¶ä»£ç åˆ°ä¸‹è¾¹ã€‚</p>\n<p>é…ç½®æˆTeamDrive</p>\n<p>ç„¶åä¸€è·¯yeså°±è¡Œäº†</p>\n</blockquote>\n<h4 id=\"æŒ‚è½½ç£ç›˜ç‚¹ï¼Œé…ç½®è‡ªå¯åŠ¨\"><a href=\"#æŒ‚è½½ç£ç›˜ç‚¹ï¼Œé…ç½®è‡ªå¯åŠ¨\" class=\"headerlink\" title=\"æŒ‚è½½ç£ç›˜ç‚¹ï¼Œé…ç½®è‡ªå¯åŠ¨\"></a>æŒ‚è½½ç£ç›˜ç‚¹ï¼Œé…ç½®è‡ªå¯åŠ¨</h4><ul>\n<li>æ–°å»ºæŒ‚è½½æ–‡ä»¶å¤¹ï¼Œæˆ‘å»ºåœ¨<code>/media/Books</code></li>\n<li>é…ç½®serviceè‡ªå¯åŠ¨</li>\n</ul>\n<p>å°†ä¸‹è¾¹è„šæœ¬æ”¹å¥½åï¼Œæ–°å»ºservice</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vi /usr/lib/systemd/system/books.service</span><br></pre></td></tr></table></figure>\n\n<p>ä¸‹è¾¹å¤åˆ¶åˆ°æ–°å»ºçš„serviceä¸­</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[Unit]</span><br><span class=\"line\">Description=Rclone</span><br><span class=\"line\">After=network-online.target</span><br><span class=\"line\"></span><br><span class=\"line\">[Service]</span><br><span class=\"line\">Type=simple</span><br><span class=\"line\">ExecStart=/usr/bin/rclone mount Books:/ /media/Books/ --copy-links --no-gzip-encoding --no-check-certificate --allow-other --allow-non-empty --umask 000 --vfs-cache-mode writes #é’ˆå¯¹calibreè¯»å–æ•°æ®åº“åŠ çš„</span><br><span class=\"line\">Restart=on-abort</span><br><span class=\"line\">User=root</span><br><span class=\"line\"></span><br><span class=\"line\">[Install]</span><br><span class=\"line\">WantedBy=default.target</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>éœ€è¦æ”¹ä¸¤ä¸ªåœ°æ–¹ï¼Œ<code>Books:/</code> å’Œ <code>/media/Books</code>ï¼Œç¬¬ä¸€ä¸ªä¸ºrcloneé…ç½®çš„åç§°ï¼Œç¬¬äºŒä¸ªä¸ºæœ¬åœ°æŒ‚è½½ç‚¹ã€‚</p>\n</blockquote>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">systemctl daemon-reload;</span><br><span class=\"line\">systemctl restart books;</span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> æŸ¥çœ‹çŠ¶æ€</span></span><br><span class=\"line\">systemctl status books -l;</span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"><span class=\"comment\"># å¼€æœºè‡ªå¯</span></span></span><br><span class=\"line\">systemctl enable books;</span><br></pre></td></tr></table></figure>\n\n<p>è¿›å…¥æŒ‚è½½ç‚¹ï¼Œlsèƒ½çœ‹åˆ°ç›˜å†…å®¹ï¼ŒæˆåŠŸ~</p>\n<p><img src= \"/img/loading.gif\" data-src=\"https://gitee.com/gentlemanhu/public-store/raw/master//images/image-20200804122150879.png\" alt=\"image-20200804122150879\"></p>\n<h3 id=\"dockerç‰ˆ-1\"><a href=\"#dockerç‰ˆ-1\" class=\"headerlink\" title=\"dockerç‰ˆ\"></a><del>dockerç‰ˆ</del></h3><blockquote>\n<p>dockerå¾—æŠ˜è…¾æ›´å¤šï¼Œå°±ä¸ç”¨äº†</p>\n<p>ä¸‹è¾¹åªè´´ä¸Šäº†å¯åŠ¨å‚æ•°</p>\n</blockquote>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker run -d --name rclone-mount \\</span><br><span class=\"line\">    --restart=unless-stopped \\</span><br><span class=\"line\">    --<span class=\"built_in\">cap</span>-add SYS_ADMIN \\</span><br><span class=\"line\">    --device /dev/fuse \\</span><br><span class=\"line\">    --security-opt apparmor:unconfined \\</span><br><span class=\"line\">    -e RemotePath=<span class=\"string\">\"Bookgo:\"</span> \\</span><br><span class=\"line\">    -e MountCommands=<span class=\"string\">\"--copy-links --no-gzip-encoding --no-check-certificate --allow-other --allow-non-empty --umask 000 --vfs-cache-mode writes\"</span> \\</span><br><span class=\"line\">    -v /root/.config/rclone:/config \\</span><br><span class=\"line\">    -v /media/Books:/mnt/mediaefs:shared \\</span><br><span class=\"line\">    mumiehub/rclone-mount</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"ä¸‰ã€calibreå®‰è£…ä¸ä¹¦åº“é…ç½®\"><a href=\"#ä¸‰ã€calibreå®‰è£…ä¸ä¹¦åº“é…ç½®\" class=\"headerlink\" title=\"ä¸‰ã€calibreå®‰è£…ä¸ä¹¦åº“é…ç½®\"></a>ä¸‰ã€calibreå®‰è£…ä¸ä¹¦åº“é…ç½®</h2><p><img src= \"/img/loading.gif\" data-src=\"https://gitee.com/gentlemanhu/public-store/raw/master//images/20200802184755.png\" alt=\"\"></p>\n<p>å®‰è£…æˆåŠŸï¼Œå¹¶é…ç½®å¥½ä¹¦åº“åï¼Œè¿›å…¥webç™»å½•åå°±æ˜¯è¿™æ ·çš„ç•Œé¢ã€‚</p>\n<blockquote>\n<p>ç„¶è€Œï¼Œç¬¬ä¸€æ­¥ä¸­å®‰è£…å¥½çš„webé¢æ¿ï¼Œç¬¬ä¸€æ¬¡ç™»å½•ï¼Œä¼šè®©ä½ è®¾ç½®ä¹¦åº“åœ°å€ï¼Œè·¯å¾„å†…å¿…é¡»æœ‰<code>metadata.db</code>ä¹¦åº“çš„æ•°æ®åº“æ–‡ä»¶ã€‚</p>\n<p>âš ï¸å¦‚æœç¬¬ä¸€æ¬¡ç”¨çš„è¯ï¼Œæ²¡æœ‰metadata.dbï¼Œå¿…é¡»æ‰‹åŠ¨æä¸€ä¸ªï¼Œæˆ–è€…ä¸‹è½½<a href=\"https://drive.google.com/file/d/189tv5i5SNT6rivLLLvCmC2JeLtODmSS1/view?usp=sharing\" target=\"_blank\" rel=\"noopener\">è¿™ä¸ª</a>ç©ºç™½çš„ä¹¦åº“æ”¾åœ¨è·¯å¾„å†…ã€‚</p>\n</blockquote>\n<h3 id=\"åˆå§‹åŒ–é…ç½®\"><a href=\"#åˆå§‹åŒ–é…ç½®\" class=\"headerlink\" title=\"åˆå§‹åŒ–é…ç½®\"></a>åˆå§‹åŒ–é…ç½®</h3><p><img src= \"/img/loading.gif\" data-src=\"https://gitee.com/gentlemanhu/public-store/raw/master//images/image-20200804142346644.png\" alt=\"\"></p>\n<ul>\n<li><p>è¿™æ ·ï¼Œè¾“å…¥åˆå§‹adminï¼Œadmin123ç”¨æˆ·ç™»å…¥ï¼Œå…¶ä»–åå°è‡ªè¡Œè®¾ç½®å°±è¡Œäº†</p>\n</li>\n<li><p>åˆå§‹å¯†ç åŠæ—¶æ›´æ”¹</p>\n<p><img src= \"/img/loading.gif\" data-src=\"https://gitee.com/gentlemanhu/public-store/raw/master//images/image-20200804142454950.png\" alt=\"image-20200804142454950\"></p>\n<p>åŠŸèƒ½è¿˜å¯ä»¥ï¼Œæœ‰è‡ªåŠ¨æ¨é€kindleåŠŸèƒ½ã€‚</p>\n</li>\n<li><p><img src= \"/img/loading.gif\" data-src=\"https://gitee.com/gentlemanhu/public-store/raw/master//images/image-20200804142552774.png\" alt=\"image-20200804142552774\"></p>\n</li>\n<li><p>è¿˜æœ‰æ ¼å¼è½¬æ¢ç­‰ï¼Œéœ€è¦è‡ªè¡Œä¸‹è½½æ’ä»¶ï¼Œè·¯å¾„é…ç½®å¥½ã€‚</p>\n</li>\n</ul>\n<h3 id=\"å¯¼å…¥ä¹¦åº“\"><a href=\"#å¯¼å…¥ä¹¦åº“\" class=\"headerlink\" title=\"å¯¼å…¥ä¹¦åº“\"></a>å¯¼å…¥ä¹¦åº“</h3><ul>\n<li>ä¸Šä¸€æ­¥åˆå§‹åŒ–åï¼Œä¹¦åº“åªæœ‰ä¸€æœ¬Quick Starté»˜è®¤ä¹¦</li>\n<li>å¯ä»¥é€šè¿‡é¢æ¿ä¸Šä¼ æŒ‰é’®è‡ªè¡Œä¸Šä¼ </li>\n<li>ä¹Ÿå¯ä»¥é€šè¿‡calibreå‘½ä»¤è¡Œå¯¼å…¥å…¶ä»–ä¸€äº›ä¹¦åº“</li>\n</ul>\n<p><img src= \"/img/loading.gif\" data-src=\"https://gitee.com/gentlemanhu/public-store/raw/master//images/20200802184602.png\" alt=\"\"></p>\n<h4 id=\"åˆ›å»ºcalibreæ•°æ®åº“\"><a href=\"#åˆ›å»ºcalibreæ•°æ®åº“\" class=\"headerlink\" title=\"åˆ›å»ºcalibreæ•°æ®åº“\"></a>åˆ›å»ºcalibreæ•°æ®åº“</h4><blockquote>\n<p>è¿™é‡Œéœ€è¦ç”¨åˆ°calibreå®˜æ–¹ç¨‹åºï¼Œå°½ç®¡åœ¨vpsä¸èƒ½å¯è§†åŒ–æ“ä½œï¼Œä½†æ˜¯å‘½ä»¤è¡Œèƒ½ç”¨ï¼Œå¯¼å…¥ä¹¦ç±ä¿¡æ¯ï¼Œè‡ªåŠ¨å½’ç±»ç­‰è¿˜æ˜¯å¾ˆå¥½ç”¨</p>\n</blockquote>\n<ul>\n<li><ol>\n<li>ä¸‹è½½å®‰è£…calibre<br><a href=\"https://calibre-ebook.com/download_linux\" target=\"_blank\" rel=\"noopener\">download</a></li>\n</ol>\n<blockquote>\n<p>ä»”ç»†å‚ç…§å®˜æ–¹è¦æ±‚ç¯å¢ƒå®‰è£…ï¼Œå¦‚æœç¯å¢ƒä¸åŒ¹é…ï¼Œå¾ˆæŠ˜è…¾</p>\n<p>pythonï¼š2.7.9+ï¼ˆ&lt;3)</p>\n<p>gcc: 5.4.0+</p>\n<p>å…·ä½“çœ‹å®‰è£…æ—¶å€™æç¤ºä¿¡æ¯ï¼Œä¸åŒ¹é…ä¼šå‡ºç°å„ç§é—®é¢˜</p>\n</blockquote>\n</li>\n<li><ol start=\"2\">\n<li>ä½¿ç”¨<code>calibredb</code>å‘½ä»¤å°†ä¸ªäººä¹¦ç±å¯¼å…¥æ•°æ®åº“</li>\n</ol>\n</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">calibredb add \"/media/Books/ä»£ç ç›¸å…³\" --add --duplicates --ignore \"*.md\" --recurse --library-path=/root/tmp/bookslib</span><br></pre></td></tr></table></figure>\n\n<p>ä¸Šè¿°è¡¨ç¤ºé€’å½’æ·»åŠ <code>media/Books/ä»£ç ç›¸å…³</code>ç›®å½•ä¸‹æ‰€æœ‰æ”¯æŒå›¾ä¹¦ï¼Œä¸å«<code>md</code>ï¼Œå¹¶å…è®¸é‡å¤ï¼Œæœ€åè§„å®šäº†<code>metadata.db</code>çš„è·¯å¾„</p>\n<blockquote>\n<p>å…¶ä»–æŒ‡ä»¤å‚ç…§å®˜æ–¹man<a href=\"https://manual.calibre-ebook.com/generated/en/calibredb.html\" target=\"_blank\" rel=\"noopener\">æ‰‹å†Œ</a></p>\n</blockquote>\n<h4 id=\"kindleæ¨é€é…ç½®\"><a href=\"#kindleæ¨é€é…ç½®\" class=\"headerlink\" title=\"kindleæ¨é€é…ç½®\"></a>kindleæ¨é€é…ç½®</h4><blockquote>\n<p>è¯¦è§åå°é…ç½®</p>\n</blockquote>\n<h4 id=\"opdsé…ç½®\"><a href=\"#opdsé…ç½®\" class=\"headerlink\" title=\"opdsé…ç½®\"></a>opdsé…ç½®</h4><blockquote>\n<p><a href=\"https://site/opds\" target=\"_blank\" rel=\"noopener\">https://site/opds</a></p>\n<p>ç«™ç‚¹ååŠ <code>opds</code>å°±æ˜¯opdsåœ°å€ï¼Œå¯¼å…¥å…¶ä»–è½¯ä»¶å¯ç”¨</p>\n</blockquote>\n<p><img src= \"/img/loading.gif\" data-src=\"https://gitee.com/gentlemanhu/public-store/raw/master//images/image-20200804105005437.png\" alt=\"image-20200804105005437\"></p>\n<h3 id=\"æ„‰å¿«çœ‹ä¹¦-æ”¶è—\"><a href=\"#æ„‰å¿«çœ‹ä¹¦-æ”¶è—\" class=\"headerlink\" title=\"æ„‰å¿«çœ‹ä¹¦(æ”¶è—)\"></a>æ„‰å¿«çœ‹ä¹¦(æ”¶è—)</h3><ul>\n<li><p><a href=\"https://taotao.521521.ml\" target=\"_blank\" rel=\"noopener\">https://taotao.521521.ml</a>  å¯¼å…¥äº†GDçè—çš„å‡ ä¸ªTçš„ä¹¦åº“</p>\n</li>\n<li><p><a href=\"https://book.crushing.xyz\" target=\"_blank\" rel=\"noopener\">https://book.crushing.xyz</a>  æ¼”ç¤ºï¼Œåªæœ‰ä¸€æœ¬</p>\n<blockquote>\n<p>åˆ©ç”¨ODå’ŒGDå¤§å®¹é‡ï¼Œä¸ªäººå›¾ä¹¦é¦†ï¼Œçˆ½~</p>\n<p>ä¹Ÿè®¸åªæ˜¯æ”¶è—å§~ğŸ˜‘</p>\n</blockquote>\n</li>\n</ul>\n<hr>\n<blockquote>\n<p>æ›´å¤šé…ç½®ç»†èŠ‚è¿˜å¾—çœ‹ä¸ªäººéœ€æ±‚</p>\n<p>è®°å½•æ¢ç´¢ï¼Œæ¢ç´¢è®°å½•</p>\n</blockquote>\n<h2 id=\"Resources\"><a href=\"#Resources\" class=\"headerlink\" title=\"Resources\"></a>Resources</h2><ul>\n<li><p><a href=\"https://rclone.org/install/#script-installation\" target=\"_blank\" rel=\"noopener\">rclone</a></p>\n</li>\n<li><p><a href=\"https://calibre-ebook.com/\" target=\"_blank\" rel=\"noopener\">Calibre</a></p>\n</li>\n<li><p><a href=\"https://github.com/janeczku/calibre-web\" target=\"_blank\" rel=\"noopener\">Calibre-web</a></p>\n</li>\n<li><p><a href=\"https://github.com/iwestlin/gd-utils\" target=\"_blank\" rel=\"noopener\">Gd-utils</a></p>\n</li>\n</ul>\n","more":"<h2 id=\"å‰è¨€\"><a href=\"#å‰è¨€\" class=\"headerlink\" title=\"å‰è¨€\"></a>å‰è¨€</h2><blockquote>\n<p>è®°å½•äº†ä¸€äº›æŠ˜è…¾è¿‡ç¨‹</p>\n</blockquote>\n<details>\n    <summary>ä¸€äº›ç¼˜ç”±</summary>\n\n<h3 id=\"E5\"><a href=\"#E5\" class=\"headerlink\" title=\"E5\"></a>E5</h3><ol>\n<li><p>å‰ä¸€æ®µå¾®è½¯å¼€å‘è€…E5è®¢é˜…å¾ˆç«çƒ­ï¼Œä¹Ÿé¡ºæ‰‹ç”³è¯·äº†ä¸€ä¸ªï¼Œä¸»è¦è¿˜æ˜¯çœ‹ä¸Š<code>OneDrive</code>çš„å­˜å‚¨ï¼ŒE5å¯ä»¥æ‹¥æœ‰25ä¸ªå­è´¦å·ï¼Œæ‰€ä»¥ç©ºé—´è‡³å°‘<code>25x5T</code>ï¼Œå½“ç„¶ä¹Ÿç”¨ä¸äº†è¿™ä¹ˆå¤šã€‚</p>\n</li>\n<li><p>ç”±äºE5å¯èƒ½æ˜¯å‚ç…§å¼€å‘è€…ä½¿ç”¨æƒ…å†µç»­è®¢çš„ï¼Œæ‰€ä»¥åŒæ—¶ä¹Ÿéƒ¨ç½²äº†<a href=\"https://github.com/GentlemanHu/OwnE5\" target=\"_blank\" rel=\"noopener\"><code>è‡ªåŠ¨è°ƒç”¨APIç»­è®¢</code></a>ç¨‹åºæ¥å°è¯•ç»´æŒç»­è®¢ã€‚</p>\n</li>\n</ol>\n<ol start=\"3\">\n<li>æ­å»ºäº†å„ç§ç´¢å¼•ç¨‹åºä½œä¸ºä¸ªäººç½‘ç›˜ï¼Œæ€»ä¹‹ï¼Œå°è¯•äº†å¤šæ¬¾ï¼Œå„æœ‰ä¼˜åŠ¿å§ã€‚</li>\n</ol>\n<h3 id=\"TeamDrive\"><a href=\"#TeamDrive\" class=\"headerlink\" title=\"TeamDrive\"></a>TeamDrive</h3><ol>\n<li><p>GoogleDriveè®¢é˜…G Suitæ•™è‚²ç‰ˆæˆ–è€…å•†ä¸šç‰ˆæ˜¯æ— é™å®¹é‡çš„ï¼ˆ$$$)ï¼Œæ•™è‚²é‚®ç®±ä¹‹å‰æè¿‡ä¸€ä¸ªï¼Œç¿»è½¦äº†ã€‚</p>\n</li>\n<li><p>å¶ç„¶å‘ç°è¿˜æœ‰TeamDriveä¹Ÿæ˜¯æ— é™å®¹é‡ï¼Œå°±ä¹Ÿé¡ºæ‰‹æäº†ä¸€ä¸ªç©ç©çœ‹ã€‚</p>\n</li>\n<li><p>åˆå‘ç°å„ç§ç©æ³•ï¼Œè½¬å­˜ä»€ä¹ˆçš„ï¼Œåˆ©ç”¨SAè´¦å·è½¬å­˜ï¼ŒTGæœºå™¨äººè½¬å­˜ç­‰ï¼Œé¡ºæ‰‹ä¹Ÿæ­å»ºäº†ã€‚</p>\n<blockquote>\n<p><a href=\"https://github.com/iwestlin/gd-utils\" target=\"_blank\" rel=\"noopener\">gd-utils</a></p>\n</blockquote>\n</li>\n</ol>\n<!-- ### ä¸ªäººæ¼”ç¤ºç«™\n\n- ODï¼ˆæš‚ä¸ï¼‰\n- GD\n  - https://pie.holyfuck.ml\n  - https://pie.keepfuture.live -->\n\n<h3 id=\"æŠ˜è…¾å¼€å§‹\"><a href=\"#æŠ˜è…¾å¼€å§‹\" class=\"headerlink\" title=\"æŠ˜è…¾å¼€å§‹\"></a>æŠ˜è…¾å¼€å§‹</h3><ul>\n<li>å„ç§ç¦»çº¿ä¸‹è½½ï¼Œè½¬å­˜æœºå™¨äººä¹Ÿéƒ½ç©è¿‡äº†ï¼Œå°±æƒ³ç©ç©æ–°é²œçš„ã€‚</li>\n<li>äºæ˜¯æƒ³åˆ°äº†æ­å»ºä¸ªäººä¹¦åº“ï¼Œåˆ©ç”¨è¿™äº›<code>å¼ºå¤§çš„</code>å­˜å‚¨ä½œæ”¯æŒã€‚</li>\n<li>å½“ç„¶ï¼ŒODå’ŒGDéƒ½æ˜¯å¯ä»¥çš„ï¼Œä½†æ˜¯çœ‹åˆ°<code>calibre-web</code>è¿™æ¬¾ç®¡ç†é¢æ¿åŸç”Ÿæ”¯æŒGDï¼Œå°±é€‰æ‹©äº†GD</li>\n</ul>\n</details>\n\n<h2 id=\"ä¸€ã€Calibre-webæ­å»ºä¸é…ç½®\"><a href=\"#ä¸€ã€Calibre-webæ­å»ºä¸é…ç½®\" class=\"headerlink\" title=\"ä¸€ã€Calibre-webæ­å»ºä¸é…ç½®\"></a>ä¸€ã€Calibre-webæ­å»ºä¸é…ç½®</h2><h3 id=\"å®‰è£…éƒ¨ç½²\"><a href=\"#å®‰è£…éƒ¨ç½²\" class=\"headerlink\" title=\"å®‰è£…éƒ¨ç½²\"></a>å®‰è£…éƒ¨ç½²</h3><h4 id=\"pyä¾èµ–éƒ¨ç½²ç‰ˆ\"><a href=\"#pyä¾èµ–éƒ¨ç½²ç‰ˆ\" class=\"headerlink\" title=\"pyä¾èµ–éƒ¨ç½²ç‰ˆ\"></a>pyä¾èµ–éƒ¨ç½²ç‰ˆ</h4><p><a href=\"https://github.com/janeczku/calibre-web\" target=\"_blank\" rel=\"noopener\">calibre-web</a></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git <span class=\"built_in\">clone</span> ä»“åº“</span><br><span class=\"line\"><span class=\"built_in\">cd</span> </span><br><span class=\"line\"><span class=\"comment\"># python3 (python3.x) </span></span><br><span class=\"line\">pip3 install --target vendor -r requirements.txt </span><br><span class=\"line\"><span class=\"comment\"># (python2.7).</span></span><br><span class=\"line\">pip install --target vendor -r requirements.txt</span><br></pre></td></tr></table></figure>\n\n<p>æ‰§è¡Œå¯åŠ¨å‘½ä»¤</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">python cps.py</span><br><span class=\"line\">æˆ–è€… </span><br><span class=\"line\">nohup python cps.py</span><br></pre></td></tr></table></figure>\n\n<p>è‡³æ­¤ï¼Œcalibreçš„é¢æ¿calibre-webæ­å»ºæˆåŠŸï¼Œæ¥ä¸‹æ¥è·ŸGDå­˜å‚¨ç«¯å¯¹æ¥ã€‚</p>\n<p>é¢æ¿åŸç”Ÿæ”¯æŒGD</p>\n<p><img src=\"https://gitee.com/gentlemanhu/public-store/raw/master//images/20200802184446.png\" alt=\"\"></p>\n<p><img src=\"https://gitee.com/gentlemanhu/public-store/raw/master//images/20200802184359.png\" alt=\"\"></p>\n<p><a href=\"https://github.com/janeczku/calibre-web/wiki/Configuration#using-google-drive-integration\" target=\"_blank\" rel=\"noopener\">doc</a></p>\n<p>ç”±äºæŸäº›åŸå› ï¼Œé‡‡ç”¨ä¸‹è¾¹rcloneæŒ‚è½½GDæ–¹å¼ã€‚</p>\n<h4 id=\"dockerç‰ˆ\"><a href=\"#dockerç‰ˆ\" class=\"headerlink\" title=\"dockerç‰ˆ\"></a><del>dockerç‰ˆ</del></h4><blockquote>\n<p>dockerå®‰è£…å¯è°“æœ€ç®€å•ï¼Œå¯æƒœå„ç§æŠ˜è…¾æœªæˆåŠŸï¼Œè¿˜æ˜¯ä¸€èˆ¬å®‰è£…å§~</p>\n<p>âš ï¸ä»¥ä¸‹åªæ˜¯è®°å½•äº†æŠ¥é”™ç­‰ä¿¡æ¯ï¼Œå°è¯•ä¿®å¤è¿‡ç¨‹</p>\n</blockquote>\n<p><a href=\"https://hub.docker.com/r/linuxserver/calibre-web/\" target=\"_blank\" rel=\"noopener\">calibre-docker</a></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker create \\</span><br><span class=\"line\">  --name=calibre-web \\</span><br><span class=\"line\">  -e PUID=1000 \\</span><br><span class=\"line\">  -e PGID=1000 \\</span><br><span class=\"line\">  -e TZ=Europe/London \\</span><br><span class=\"line\">  -e DOCKER_MODS=linuxserver/calibre-web:calibre \\</span><br><span class=\"line\">  -p 8083:8083 \\</span><br><span class=\"line\">  -v /media/config:/config \\</span><br><span class=\"line\">  -v /media/Books:/books \\</span><br><span class=\"line\">  --restart unless-stopped \\</span><br><span class=\"line\">  linuxserver/calibre-web</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><p>å®‰è£…å¥½ä¹‹åï¼Œå°½ç®¡å·²ç»æ˜ å°„ï¼Œdockerå®¹å™¨å†…ä¸èƒ½è¯»å–åˆ°ä»hostå¤–éƒ¨å…±äº«åˆ°å†…éƒ¨çš„ç›®å½•ï¼Œæ‰€ä»¥ï¼ŒæŒ‚è½½çš„GDä¹Ÿå°±ä¸èƒ½ç”¨ã€‚</p>\n</li>\n<li><p>æ‰¾äº†ä¸€ç•ªï¼Œæœ‰ä¸ªrclone-mountçš„dockeré•œåƒæ˜¯ä¸“é—¨ä¸ºæ­¤è€Œç”Ÿã€‚</p>\n<blockquote>\n<p><a href=\"https://github.com/tynor88/docker-rclone-mount\" target=\"_blank\" rel=\"noopener\">rclone-mount-docker</a></p>\n<p><a href=\"https://hub.docker.com/r/mumiehub/rclone-mount/\" target=\"_blank\" rel=\"noopener\">Docker-rclone</a></p>\n</blockquote>\n</li>\n<li><p><code>docker build -t rclone-docker:rclone .</code></p>\n</li>\n<li><p><code>docker run -t -i rclone-docker:rclone /bin/bash</code></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker start rclone-mount</span><br><span class=\"line\">Error response from daemon: oci runtime error: container_linux.go:235: starting container process caused <span class=\"string\">\"process_linux.go:339: running prestart hook 2 caused \\\"error running hook: exit status 1, stdout: , stderr: \\\"\"</span></span><br><span class=\"line\">Error: failed to start containers: rclone-mount</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>æŠ¥é”™,googleåéœ€è¦åœ¨linuxå†…æ ¸å¯åŠ¨namespaceä»€ä¹ˆçš„ï¼Œä¸‹è¾¹æ˜¯æ•™ç¨‹</p>\n</li>\n<li><p><a href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux_atomic_host/7/html-single/getting_started_with_containers/index#user_namespaces_options\" target=\"_blank\" rel=\"noopener\">https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux_atomic_host/7/html-single/getting_started_with_containers/index#user_namespaces_options</a></p>\n</li>\n</ul>\n<blockquote>\n<p>ç„¶è€Œéœ€è¦é‡å¯ï¼Œç”±äºéƒ¨ç½²äº†ä¸€å †é—²ç©çš„ä¸œè¥¿ï¼Œå¾ˆå¤šæ²¡éƒ¨ç½²serviceè‡ªå¯åŠ¨ï¼Œé‡å¯åè¯´ä¸å®šå°±ä¸çŸ¥é“åˆ°åœ¨å“ªå¯åŠ¨äº†ï¼Œæ‰€ä»¥æ”¾å¼ƒã€‚</p>\n</blockquote>\n<h3 id=\"åå°é…ç½®\"><a href=\"#åå°é…ç½®\" class=\"headerlink\" title=\"åå°é…ç½®\"></a>åå°é…ç½®</h3><blockquote>\n<p>è¯¦è§ä¸‹è¾¹ç¬¬ä¸‰æ­¥</p>\n</blockquote>\n<h2 id=\"äºŒã€rcloneæŒ‚è½½GD\"><a href=\"#äºŒã€rcloneæŒ‚è½½GD\" class=\"headerlink\" title=\"äºŒã€rcloneæŒ‚è½½GD\"></a>äºŒã€rcloneæŒ‚è½½GD</h2><h3 id=\"æ™®é€šç‰ˆ\"><a href=\"#æ™®é€šç‰ˆ\" class=\"headerlink\" title=\"æ™®é€šç‰ˆ\"></a>æ™®é€šç‰ˆ</h3><h4 id=\"å®‰è£…rclone\"><a href=\"#å®‰è£…rclone\" class=\"headerlink\" title=\"å®‰è£…rclone\"></a>å®‰è£…<a href=\"https://rclone.org/install/#script-installation\" target=\"_blank\" rel=\"noopener\">rclone</a></h4><h4 id=\"é…ç½®GDå¹¶æŒ‚è½½\"><a href=\"#é…ç½®GDå¹¶æŒ‚è½½\" class=\"headerlink\" title=\"é…ç½®GDå¹¶æŒ‚è½½\"></a>é…ç½®GDå¹¶æŒ‚è½½</h4><ul>\n<li><p><code>rclone config</code></p>\n<p><img src=\"https://gitee.com/gentlemanhu/public-store/raw/master//images/image-20200802185121351.png\" alt=\"image-20200802185121351\"></p>\n<blockquote>\n<p> æ–°å»ºremote</p>\n</blockquote>\n<p><img src=\"https://gitee.com/gentlemanhu/public-store/raw/master//images/image-20200802185159925.png\" alt=\"image-20200802185159925\"></p>\n<blockquote>\n<p>é€‰13ï¼ˆå…·ä½“çœ‹ç‰ˆæœ¬ï¼‰ï¼Œgoogle drive</p>\n<p>client_idå’Œsecret_idå¯ä»¥ä¸å†™ï¼Œé»˜è®¤ç”¨çš„å®˜æ–¹çš„ã€‚</p>\n<p>æ¥ä¸‹æ¥éƒ½é€‰1</p>\n</blockquote>\n<p><img src=\"https://gitee.com/gentlemanhu/public-store/raw/master//images/image-20200802185330214.png\" alt=\"image-20200802185330214\"></p>\n</li>\n</ul>\n<blockquote>\n<p>æ ¹æ®æç¤ºï¼ŒéªŒè¯é‚£é‡Œï¼Œç”±äºæ˜¯åœ¨vpsæ²¡æ˜¾ç¤ºå™¨ï¼Œé€‰nï¼Œç‚¹å¼€é“¾æ¥éªŒè¯åï¼Œå¤åˆ¶ä»£ç åˆ°ä¸‹è¾¹ã€‚</p>\n<p>é…ç½®æˆTeamDrive</p>\n<p>ç„¶åä¸€è·¯yeså°±è¡Œäº†</p>\n</blockquote>\n<h4 id=\"æŒ‚è½½ç£ç›˜ç‚¹ï¼Œé…ç½®è‡ªå¯åŠ¨\"><a href=\"#æŒ‚è½½ç£ç›˜ç‚¹ï¼Œé…ç½®è‡ªå¯åŠ¨\" class=\"headerlink\" title=\"æŒ‚è½½ç£ç›˜ç‚¹ï¼Œé…ç½®è‡ªå¯åŠ¨\"></a>æŒ‚è½½ç£ç›˜ç‚¹ï¼Œé…ç½®è‡ªå¯åŠ¨</h4><ul>\n<li>æ–°å»ºæŒ‚è½½æ–‡ä»¶å¤¹ï¼Œæˆ‘å»ºåœ¨<code>/media/Books</code></li>\n<li>é…ç½®serviceè‡ªå¯åŠ¨</li>\n</ul>\n<p>å°†ä¸‹è¾¹è„šæœ¬æ”¹å¥½åï¼Œæ–°å»ºservice</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vi /usr/lib/systemd/system/books.service</span><br></pre></td></tr></table></figure>\n\n<p>ä¸‹è¾¹å¤åˆ¶åˆ°æ–°å»ºçš„serviceä¸­</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[Unit]</span><br><span class=\"line\">Description=Rclone</span><br><span class=\"line\">After=network-online.target</span><br><span class=\"line\"></span><br><span class=\"line\">[Service]</span><br><span class=\"line\">Type=simple</span><br><span class=\"line\">ExecStart=/usr/bin/rclone mount Books:/ /media/Books/ --copy-links --no-gzip-encoding --no-check-certificate --allow-other --allow-non-empty --umask 000 --vfs-cache-mode writes #é’ˆå¯¹calibreè¯»å–æ•°æ®åº“åŠ çš„</span><br><span class=\"line\">Restart=on-abort</span><br><span class=\"line\">User=root</span><br><span class=\"line\"></span><br><span class=\"line\">[Install]</span><br><span class=\"line\">WantedBy=default.target</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>éœ€è¦æ”¹ä¸¤ä¸ªåœ°æ–¹ï¼Œ<code>Books:/</code> å’Œ <code>/media/Books</code>ï¼Œç¬¬ä¸€ä¸ªä¸ºrcloneé…ç½®çš„åç§°ï¼Œç¬¬äºŒä¸ªä¸ºæœ¬åœ°æŒ‚è½½ç‚¹ã€‚</p>\n</blockquote>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">systemctl daemon-reload;</span><br><span class=\"line\">systemctl restart books;</span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> æŸ¥çœ‹çŠ¶æ€</span></span><br><span class=\"line\">systemctl status books -l;</span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"><span class=\"comment\"># å¼€æœºè‡ªå¯</span></span></span><br><span class=\"line\">systemctl enable books;</span><br></pre></td></tr></table></figure>\n\n<p>è¿›å…¥æŒ‚è½½ç‚¹ï¼Œlsèƒ½çœ‹åˆ°ç›˜å†…å®¹ï¼ŒæˆåŠŸ~</p>\n<p><img src=\"https://gitee.com/gentlemanhu/public-store/raw/master//images/image-20200804122150879.png\" alt=\"image-20200804122150879\"></p>\n<h3 id=\"dockerç‰ˆ-1\"><a href=\"#dockerç‰ˆ-1\" class=\"headerlink\" title=\"dockerç‰ˆ\"></a><del>dockerç‰ˆ</del></h3><blockquote>\n<p>dockerå¾—æŠ˜è…¾æ›´å¤šï¼Œå°±ä¸ç”¨äº†</p>\n<p>ä¸‹è¾¹åªè´´ä¸Šäº†å¯åŠ¨å‚æ•°</p>\n</blockquote>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker run -d --name rclone-mount \\</span><br><span class=\"line\">    --restart=unless-stopped \\</span><br><span class=\"line\">    --<span class=\"built_in\">cap</span>-add SYS_ADMIN \\</span><br><span class=\"line\">    --device /dev/fuse \\</span><br><span class=\"line\">    --security-opt apparmor:unconfined \\</span><br><span class=\"line\">    -e RemotePath=<span class=\"string\">\"Bookgo:\"</span> \\</span><br><span class=\"line\">    -e MountCommands=<span class=\"string\">\"--copy-links --no-gzip-encoding --no-check-certificate --allow-other --allow-non-empty --umask 000 --vfs-cache-mode writes\"</span> \\</span><br><span class=\"line\">    -v /root/.config/rclone:/config \\</span><br><span class=\"line\">    -v /media/Books:/mnt/mediaefs:shared \\</span><br><span class=\"line\">    mumiehub/rclone-mount</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"ä¸‰ã€calibreå®‰è£…ä¸ä¹¦åº“é…ç½®\"><a href=\"#ä¸‰ã€calibreå®‰è£…ä¸ä¹¦åº“é…ç½®\" class=\"headerlink\" title=\"ä¸‰ã€calibreå®‰è£…ä¸ä¹¦åº“é…ç½®\"></a>ä¸‰ã€calibreå®‰è£…ä¸ä¹¦åº“é…ç½®</h2><p><img src=\"https://gitee.com/gentlemanhu/public-store/raw/master//images/20200802184755.png\" alt=\"\"></p>\n<p>å®‰è£…æˆåŠŸï¼Œå¹¶é…ç½®å¥½ä¹¦åº“åï¼Œè¿›å…¥webç™»å½•åå°±æ˜¯è¿™æ ·çš„ç•Œé¢ã€‚</p>\n<blockquote>\n<p>ç„¶è€Œï¼Œç¬¬ä¸€æ­¥ä¸­å®‰è£…å¥½çš„webé¢æ¿ï¼Œç¬¬ä¸€æ¬¡ç™»å½•ï¼Œä¼šè®©ä½ è®¾ç½®ä¹¦åº“åœ°å€ï¼Œè·¯å¾„å†…å¿…é¡»æœ‰<code>metadata.db</code>ä¹¦åº“çš„æ•°æ®åº“æ–‡ä»¶ã€‚</p>\n<p>âš ï¸å¦‚æœç¬¬ä¸€æ¬¡ç”¨çš„è¯ï¼Œæ²¡æœ‰metadata.dbï¼Œå¿…é¡»æ‰‹åŠ¨æä¸€ä¸ªï¼Œæˆ–è€…ä¸‹è½½<a href=\"https://drive.google.com/file/d/189tv5i5SNT6rivLLLvCmC2JeLtODmSS1/view?usp=sharing\" target=\"_blank\" rel=\"noopener\">è¿™ä¸ª</a>ç©ºç™½çš„ä¹¦åº“æ”¾åœ¨è·¯å¾„å†…ã€‚</p>\n</blockquote>\n<h3 id=\"åˆå§‹åŒ–é…ç½®\"><a href=\"#åˆå§‹åŒ–é…ç½®\" class=\"headerlink\" title=\"åˆå§‹åŒ–é…ç½®\"></a>åˆå§‹åŒ–é…ç½®</h3><p><img src=\"https://gitee.com/gentlemanhu/public-store/raw/master//images/image-20200804142346644.png\" alt=\"\"></p>\n<ul>\n<li><p>è¿™æ ·ï¼Œè¾“å…¥åˆå§‹adminï¼Œadmin123ç”¨æˆ·ç™»å…¥ï¼Œå…¶ä»–åå°è‡ªè¡Œè®¾ç½®å°±è¡Œäº†</p>\n</li>\n<li><p>åˆå§‹å¯†ç åŠæ—¶æ›´æ”¹</p>\n<p><img src=\"https://gitee.com/gentlemanhu/public-store/raw/master//images/image-20200804142454950.png\" alt=\"image-20200804142454950\"></p>\n<p>åŠŸèƒ½è¿˜å¯ä»¥ï¼Œæœ‰è‡ªåŠ¨æ¨é€kindleåŠŸèƒ½ã€‚</p>\n</li>\n<li><p><img src=\"https://gitee.com/gentlemanhu/public-store/raw/master//images/image-20200804142552774.png\" alt=\"image-20200804142552774\"></p>\n</li>\n<li><p>è¿˜æœ‰æ ¼å¼è½¬æ¢ç­‰ï¼Œéœ€è¦è‡ªè¡Œä¸‹è½½æ’ä»¶ï¼Œè·¯å¾„é…ç½®å¥½ã€‚</p>\n</li>\n</ul>\n<h3 id=\"å¯¼å…¥ä¹¦åº“\"><a href=\"#å¯¼å…¥ä¹¦åº“\" class=\"headerlink\" title=\"å¯¼å…¥ä¹¦åº“\"></a>å¯¼å…¥ä¹¦åº“</h3><ul>\n<li>ä¸Šä¸€æ­¥åˆå§‹åŒ–åï¼Œä¹¦åº“åªæœ‰ä¸€æœ¬Quick Starté»˜è®¤ä¹¦</li>\n<li>å¯ä»¥é€šè¿‡é¢æ¿ä¸Šä¼ æŒ‰é’®è‡ªè¡Œä¸Šä¼ </li>\n<li>ä¹Ÿå¯ä»¥é€šè¿‡calibreå‘½ä»¤è¡Œå¯¼å…¥å…¶ä»–ä¸€äº›ä¹¦åº“</li>\n</ul>\n<p><img src=\"https://gitee.com/gentlemanhu/public-store/raw/master//images/20200802184602.png\" alt=\"\"></p>\n<h4 id=\"åˆ›å»ºcalibreæ•°æ®åº“\"><a href=\"#åˆ›å»ºcalibreæ•°æ®åº“\" class=\"headerlink\" title=\"åˆ›å»ºcalibreæ•°æ®åº“\"></a>åˆ›å»ºcalibreæ•°æ®åº“</h4><blockquote>\n<p>è¿™é‡Œéœ€è¦ç”¨åˆ°calibreå®˜æ–¹ç¨‹åºï¼Œå°½ç®¡åœ¨vpsä¸èƒ½å¯è§†åŒ–æ“ä½œï¼Œä½†æ˜¯å‘½ä»¤è¡Œèƒ½ç”¨ï¼Œå¯¼å…¥ä¹¦ç±ä¿¡æ¯ï¼Œè‡ªåŠ¨å½’ç±»ç­‰è¿˜æ˜¯å¾ˆå¥½ç”¨</p>\n</blockquote>\n<ul>\n<li><ol>\n<li>ä¸‹è½½å®‰è£…calibre<br><a href=\"https://calibre-ebook.com/download_linux\" target=\"_blank\" rel=\"noopener\">download</a></li>\n</ol>\n<blockquote>\n<p>ä»”ç»†å‚ç…§å®˜æ–¹è¦æ±‚ç¯å¢ƒå®‰è£…ï¼Œå¦‚æœç¯å¢ƒä¸åŒ¹é…ï¼Œå¾ˆæŠ˜è…¾</p>\n<p>pythonï¼š2.7.9+ï¼ˆ&lt;3)</p>\n<p>gcc: 5.4.0+</p>\n<p>å…·ä½“çœ‹å®‰è£…æ—¶å€™æç¤ºä¿¡æ¯ï¼Œä¸åŒ¹é…ä¼šå‡ºç°å„ç§é—®é¢˜</p>\n</blockquote>\n</li>\n<li><ol start=\"2\">\n<li>ä½¿ç”¨<code>calibredb</code>å‘½ä»¤å°†ä¸ªäººä¹¦ç±å¯¼å…¥æ•°æ®åº“</li>\n</ol>\n</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">calibredb add \"/media/Books/ä»£ç ç›¸å…³\" --add --duplicates --ignore \"*.md\" --recurse --library-path=/root/tmp/bookslib</span><br></pre></td></tr></table></figure>\n\n<p>ä¸Šè¿°è¡¨ç¤ºé€’å½’æ·»åŠ <code>media/Books/ä»£ç ç›¸å…³</code>ç›®å½•ä¸‹æ‰€æœ‰æ”¯æŒå›¾ä¹¦ï¼Œä¸å«<code>md</code>ï¼Œå¹¶å…è®¸é‡å¤ï¼Œæœ€åè§„å®šäº†<code>metadata.db</code>çš„è·¯å¾„</p>\n<blockquote>\n<p>å…¶ä»–æŒ‡ä»¤å‚ç…§å®˜æ–¹man<a href=\"https://manual.calibre-ebook.com/generated/en/calibredb.html\" target=\"_blank\" rel=\"noopener\">æ‰‹å†Œ</a></p>\n</blockquote>\n<h4 id=\"kindleæ¨é€é…ç½®\"><a href=\"#kindleæ¨é€é…ç½®\" class=\"headerlink\" title=\"kindleæ¨é€é…ç½®\"></a>kindleæ¨é€é…ç½®</h4><blockquote>\n<p>è¯¦è§åå°é…ç½®</p>\n</blockquote>\n<h4 id=\"opdsé…ç½®\"><a href=\"#opdsé…ç½®\" class=\"headerlink\" title=\"opdsé…ç½®\"></a>opdsé…ç½®</h4><blockquote>\n<p><a href=\"https://site/opds\" target=\"_blank\" rel=\"noopener\">https://site/opds</a></p>\n<p>ç«™ç‚¹ååŠ <code>opds</code>å°±æ˜¯opdsåœ°å€ï¼Œå¯¼å…¥å…¶ä»–è½¯ä»¶å¯ç”¨</p>\n</blockquote>\n<p><img src=\"https://gitee.com/gentlemanhu/public-store/raw/master//images/image-20200804105005437.png\" alt=\"image-20200804105005437\"></p>\n<h3 id=\"æ„‰å¿«çœ‹ä¹¦-æ”¶è—\"><a href=\"#æ„‰å¿«çœ‹ä¹¦-æ”¶è—\" class=\"headerlink\" title=\"æ„‰å¿«çœ‹ä¹¦(æ”¶è—)\"></a>æ„‰å¿«çœ‹ä¹¦(æ”¶è—)</h3><ul>\n<li><p><a href=\"https://taotao.521521.ml\" target=\"_blank\" rel=\"noopener\">https://taotao.521521.ml</a>  å¯¼å…¥äº†GDçè—çš„å‡ ä¸ªTçš„ä¹¦åº“</p>\n</li>\n<li><p><a href=\"https://book.crushing.xyz\" target=\"_blank\" rel=\"noopener\">https://book.crushing.xyz</a>  æ¼”ç¤ºï¼Œåªæœ‰ä¸€æœ¬</p>\n<blockquote>\n<p>åˆ©ç”¨ODå’ŒGDå¤§å®¹é‡ï¼Œä¸ªäººå›¾ä¹¦é¦†ï¼Œçˆ½~</p>\n<p>ä¹Ÿè®¸åªæ˜¯æ”¶è—å§~ğŸ˜‘</p>\n</blockquote>\n</li>\n</ul>\n<hr>\n<blockquote>\n<p>æ›´å¤šé…ç½®ç»†èŠ‚è¿˜å¾—çœ‹ä¸ªäººéœ€æ±‚</p>\n<p>è®°å½•æ¢ç´¢ï¼Œæ¢ç´¢è®°å½•</p>\n</blockquote>\n<h2 id=\"Resources\"><a href=\"#Resources\" class=\"headerlink\" title=\"Resources\"></a>Resources</h2><ul>\n<li><p><a href=\"https://rclone.org/install/#script-installation\" target=\"_blank\" rel=\"noopener\">rclone</a></p>\n</li>\n<li><p><a href=\"https://calibre-ebook.com/\" target=\"_blank\" rel=\"noopener\">Calibre</a></p>\n</li>\n<li><p><a href=\"https://github.com/janeczku/calibre-web\" target=\"_blank\" rel=\"noopener\">Calibre-web</a></p>\n</li>\n<li><p><a href=\"https://github.com/iwestlin/gd-utils\" target=\"_blank\" rel=\"noopener\">Gd-utils</a></p>\n</li>\n</ul>\n","categories":[{"name":"ç©ç©","path":"api/categories/ç©ç©.json"},{"name":"èµ„æº","path":"api/categories/èµ„æº.json"}],"tags":[{"name":"ä¸ªäººä¹¦åº“","path":"api/tags/ä¸ªäººä¹¦åº“.json"},{"name":"Calibre","path":"api/tags/Calibre.json"},{"name":"rclone","path":"api/tags/rclone.json"},{"name":"google drive","path":"api/tags/google drive.json"}]}